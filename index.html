<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ë–æ–π</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        .image-preloader {
            position: absolute;
            opacity: 0;
            pointer-events: none;
            width: 0;
            height: 0;
            overflow: hidden;
        }
        
        .tg-back-button {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 100;
        }
        
        .tg-back-button button {
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="image-preloader">
        <img src="https://i.imgur.com/tP950oJ.png" alt="rocket">
        <img src="https://i.imgur.com/DO3jQJd.png" alt="planet1">
        <img src="https://i.imgur.com/O4Cpefe.png" alt="planet2">
        <img src="https://i.imgur.com/MzJB39S.png" alt="planet3">
        <img src="https://i.imgur.com/KcDW0uG.png" alt="planet4">
        <img src="https://i.imgur.com/v9hisDN.png" alt="bomb">
    </div>

    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>
    
    <div id="tgBackButton" class="tg-back-button" style="display: none;">
        <button onclick="window.history.back()">‚Üê –ù–∞–∑–∞–¥</button>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üöÄ –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –°—á–µ—Ç</h1>
            <div id="userWelcome" class="user-welcome" style="display: none;"></div>
            <div class="stats">
                <div class="stat">–û—á–∫–∏: <span id="score">0</span></div>
                <div class="stat">–í—Ä–µ–º—è: <span id="timer">60</span>—Å</div>
                <div class="stat">–°—Ç—Ä–∞–π–∫: <span id="streak">0</span>x</div>
                <div class="stat">–ú–Ω–æ–∂–∏—Ç–µ–ª—å: <span id="multiplier">1</span></div>
            </div>
        </div>

        <div id="gameArea" class="game-area"></div>

        <div class="bomb-warning">
            üí£ –û—Å—Ç–æ—Ä–æ–∂–Ω–æ! –ë–æ–º–±—ã –æ—Ç–Ω–∏–º–∞—é—Ç -5 –æ—á–∫–æ–≤!
        </div>

        <div class="controls">
            <button id="restart" class="btn">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
            <button id="showLeaderboard" class="btn leaderboard-btn">üèÜ –õ–∏–¥–µ—Ä–±–æ—Ä–¥</button>
            <button id="share" class="btn share-btn" style="display: none;">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>
        
        <!-- –û–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="resultModal" class="modal">
            <div class="modal-content">
                <h2>üéÆ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
                <div class="result-stats">
                    <div>–í–∞—à —Å—á–µ—Ç: <span id="finalScore">0</span></div>
                    <div>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∞–π–∫: <span id="finalStreak">0</span></div>
                    <div>–õ—É—á—à–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å: x<span id="finalMultiplier">1</span></div>
                </div>
                <div class="modal-buttons">
                    <button id="playAgain" class="btn">üéØ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                    <button id="closeModal" class="btn btn-secondary">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ -->
        <div id="leaderboardModal" class="modal">
            <div class="modal-content">
                <h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h2>
                
                <div class="leaderboard-tabs">
                    <button class="tab-btn active" data-tab="daily">üìÖ –°–µ–≥–æ–¥–Ω—è</button>
                    <button class="tab-btn" data-tab="weekly">üìä –ù–µ–¥–µ–ª—è</button>
                </div>
                
                <div class="tab-content">
                    <div id="dailyLeaderboard" class="tab-pane active">
                        <div class="leaderboard-list"></div>
                    </div>
                    
                    <div id="weeklyLeaderboard" class="tab-pane">
                        <div class="leaderboard-list"></div>
                    </div>
                </div>
                
                <div class="user-position">
                    <div>–í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è: 
                        <span id="dailyPosition">-</span> (—Å–µ–≥–æ–¥–Ω—è) ‚Ä¢ 
                        <span id="weeklyPosition">-</span> (–Ω–µ–¥–µ–ª—è)
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button id="closeLeaderboard" class="btn">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>